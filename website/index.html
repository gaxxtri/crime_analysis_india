<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>India Crime Policy Intelligence Dashboard</title>

    <!-- Leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- PapaParse -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
    <h1>India Crime Policy Intelligence Dashboard</h1>
    <p>State-wise Crime Analysis & Decision Support System</p>
</header>

<!-- ================= TABS ================= -->
<div class="tabs">
    <button class="tab-button active" onclick="openTab('overview', event)">Overview</button>
    <button class="tab-button" onclick="openTab('comparison', event)">State Comparison</button>
    <button class="tab-button" onclick="openTab('maps', event)">Maps</button>
    <button class="tab-button" onclick="openTab('ml', event)">ML Insights</button>
    <button class="tab-button" onclick="openTab('policy', event)">Policy & Law</button>
</div>

<!-- ================= OVERVIEW ================= -->
<div id="overview" class="tab-content active">

    <h2>National & State Overview</h2>

    <div class="controls">
        <div>
            <label><strong>Select State / UT:</strong></label><br>
            <select id="stateSelect"></select>
        </div>

        <div>
            <label><strong>Map View:</strong></label><br>
            <select id="mapMode">
                <option value="ipc">IPC Crime Rate (2022)</option>
                <option value="murder">Murder Rate (2022)</option>
                <option value="chargesheet">Chargesheeting Rate (2022)</option>
                <option value="kidnap">Kidnapping Recovery %</option>
                <option value="policy">Policy Priority</option>
                <option value="cluster">Crime Cluster (ML)</option>
            </select>
        </div>
    </div>

    <!-- KPI CARDS -->
    <div class="kpi-container">
        <div class="kpi-card">
            <h3>IPC Crime Rate</h3>
            <p class="kpi-value" id="kpi-ipc">â€”</p>
        </div>

        <div class="kpi-card">
            <h3>Murder Rate</h3>
            <p class="kpi-value" id="kpi-murder">â€”</p>
        </div>

        <div class="kpi-card">
            <h3>Chargesheeting Rate</h3>
            <p class="kpi-value" id="kpi-charge">â€”</p>
        </div>

        <div class="kpi-card">
            <h3>Kidnapping Recovery %</h3>
            <p class="kpi-value" id="kpi-kidnap">â€”</p>
        </div>

        <div class="kpi-card">
            <h3>Crime Cluster</h3>
            <p class="kpi-value" id="kpi-cluster">â€”</p>
        </div>
    </div>

    <h3>India Crime Map</h3>
    <div id="map"></div>
</div>

<!-- ================= COMPARISON ================= -->
<!-- ================= STATE COMPARISON TAB ================= -->
<div id="comparison" class="tab-content">

    <!-- HEADER -->
    <div class="comparison-header">
        <h2> State Performance vs Benchmarks</h2>
        <p id="comparisonSubtitle">
            Comparing <strong>Selected State</strong> with National Average and Similar States (2022)
        </p>
    </div>

<!-- ================= STATE COMPARISON TAB ================= -->
<div id="comparison" class="tab-content">

    <!-- HEADER -->
    <div class="comparison-header">
        <h2> State Performance vs Benchmarks</h2>
        <p id="comparisonSubtitle">
            Comparing <strong>Selected State</strong> with National Average and Similar States (2022)
        </p>
    </div>

    <!-- CONTROLS -->
    <div class="comparison-controls">
        <label><strong>Compare Selected State Against:</strong></label>
        <select id="benchmarkMode">
            <option value="national" selected>National Average</option>
            <option value="cluster">Cluster Average</option>
            <option value="peers">Peer States (Similar IPC)</option>
        </select>
    </div>

    <!-- MAIN GRID -->
    <div class="comparison-grid">

        <!-- LEFT PANEL -->
        <div class="comparison-panel left-panel">
            <h3> State vs Benchmark</h3>
            <p class="panel-subtitle">
                Comparing key crime indicators against selected benchmark
            </p>

            <!-- BAR CHART -->
            <canvas id="benchmarkBarChart" height="220"></canvas>

            <!-- MINI KPI DIFFERENCE STRIP -->
            <div class="delta-strip">
                <span>IPC: <strong id="delta-ipc">â€”</strong></span>
                <span>Murder: <strong id="delta-murder">â€”</strong></span>
                <span>Chargesheeting: <strong id="delta-charge">â€”</strong></span>
                <span>Kidnapping Recovery: <strong id="delta-kidnap">â€”</strong></span>
            </div>
        </div>

        <!-- RIGHT PANEL -->
        <div class="comparison-panel right-panel">
            <h3> State vs Other States</h3>
            <p class="panel-subtitle">
                Performance relative to similar or peer states
            </p>

            <!-- PEER COMPARISON CHART -->
            <canvas id="peerComparisonChart" height="220"></canvas>

            <!-- RADAR CHART -->
            <h4 style="margin-top:25px;"> Crime Profile Comparison</h4>
            <canvas id="crimeRadarChart" height="220"></canvas>
        </div>

    </div>

    <!-- INSIGHT BOX -->
    <div class="comparison-insight">
        <h3> Key Insights</h3>
        <p id="comparisonInsightText">
            Select a state to generate comparison insights.
        </p>
    </div>

    <!-- FOOTER -->
    <div class="comparison-footer">
        <small>
            Source: NCRB | Period: 2020â€“2022 | Methodology: Cluster-based benchmarking
        </small>
    </div>

</div>
    
    


<!-- ================= MAPS ================= -->
<div id="maps" class="tab-content">
    <h2>Advanced Maps</h2>
    <p>
        Thematic maps including severity dominance, policy priority zones,
        and inter-state inequality analysis.
    </p>
</div>

<!-- ================= ML ================= -->
<div id="ml" class="tab-content">
    <h2>Machine Learning Insights</h2>
    <p>
        Cluster-based state grouping and feature importance
        for evidence-based policy planning.
    </p>
</div>

<!-- ================= POLICY ================= -->
<div id="policy" class="tab-content">

    <h2>Policy & Legal Framework</h2>

    <p>
        This section provides legal context and data-driven policy prioritization
        based on crime severity, investigation efficiency, and violence indicators.
    </p>

    <!-- ================= POLICY PRIORITY SUMMARY (DYNAMIC) ================= -->
    <div id="policySummary" class="policy-box">
        <p>
            Select a state from the dropdown or click a state on the map
            to view policy priority insights.
        </p>
    </div>

    <!-- ================= POLICY PRIORITY LEGEND ================= -->
    <h3>Policy Priority Levels</h3>
    <ul>
        <li><strong>ðŸ”´ Critical Priority</strong> â€“ High crime, low chargesheeting, high violence</li>
        <li><strong>ðŸŸ  High Priority</strong> â€“ Crime pressure with justice gaps</li>
        <li><strong>ðŸŸ¡ Moderate Priority</strong> â€“ Emerging crime risks</li>
        <li><strong>ðŸŸ¢ Low Priority</strong> â€“ Stable law & order</li>
    </ul>

    <!-- ================= LEGAL CONTEXT ================= -->
    <h3>Key IPC Sections</h3>
    <ul>
        <li><strong>IPC 302</strong> â€“ Murder</li>
        <li><strong>IPC 363â€“369</strong> â€“ Kidnapping & Abduction</li>
        <li><strong>IPC 376</strong> â€“ Sexual Offences</li>
        <li><strong>IPC 307</strong> â€“ Attempt to Murder</li>
    </ul>

    <!-- ================= POLICY RECOMMENDATIONS ================= -->
    <h3>Recommended Policy Actions</h3>
    <ul>
        <li>Urban-focused policing for high-risk districts</li>
        <li>Improve investigation quality and chargesheeting timelines</li>
        <li>Strengthen inter-state coordination for organized crime</li>
        <li>Cluster-based crime prevention strategies</li>
    </ul>

</div>


<script src="script.js"></script>
</body>
</html>
